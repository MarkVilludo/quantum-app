import{r as m,x as w,N as y,T as S,c as u,o as n,i as f,u as k,Z as M,h,a as e,w as g,v as N,F as i,d as v,t as r,f as C}from"./app-D5U-eT0B.js";import{_ as A}from"./AuthenticatedLayout-pEhUGDD_.js";import"./ApplicationLogo-DWddR4E2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-12"},B={class:"p-6 bg-white rounded-lg shadow"},D={class:"mb-4 flex gap-4"},F=["value"],P=["href"],T={class:"w-full border-collapse border border-gray-300"},E={class:"border px-4 py-2"},O={class:"border px-4 py-2"},U={class:"border px-4 py-2"},I={class:"border px-4 py-2 text-center"},L=["href"],Q=["onClick"],Y={class:"mt-4 flex justify-between"},Z=["disabled"],q={class:"px-4 py-2"},z=["disabled"],W={__name:"Index",props:{modules:Object,filters:Object,subjects:Array},setup(l){const c=l,a=m(c.filters.search||""),d=m(c.filters.subject_id||""),b=o=>{if(o>=1&&o<=c.modules.last_page){const s={search:a.value,subject_id:d.value,page:o};y.get(route("subject-modules.index"),s,{preserveState:!0,replace:!0})}};w([a,d],()=>{y.get(route("subject-modules.index"),{search:a.value,subject_id:d.value},{preserveState:!0,replace:!0})});const _=S({}),j=o=>{confirm("Are you sure you want to delete this module?")&&_.delete(route("subject-modules.destroy",o),{onSuccess:()=>{location.reload()}})};return(o,s)=>(n(),u(i,null,[f(k(M),{title:"Subject Modules"}),f(A,null,{header:h(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Subject Modules",-1)])),default:h(()=>[e("div",V,[e("div",$,[e("div",B,[e("div",D,[g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.value=t),type:"text",placeholder:"Search modules...",class:"border rounded p-2 w-full"},null,512),[[N,a.value]]),g(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),class:"border rounded p-2"},[s[5]||(s[5]=e("option",{value:""},"All Subjects",-1)),(n(!0),u(i,null,v(l.subjects,t=>(n(),u("option",{key:t.id,value:t.id},r(t.name),9,F))),128))],512),[[C,d.value]]),e("a",{href:o.route("subject-modules.create"),class:"bg-blue-500 text-white px-4 py-2 rounded"}," Create New Module ",8,P)]),e("table",T,[s[6]||(s[6]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"border px-4 py-2 text-left"},"Module Name"),e("th",{class:"border px-4 py-2 text-left"},"Subject"),e("th",{class:"border px-4 py-2 text-left"},"Year"),e("th",{class:"border px-4 py-2 text-center"},"Actions")])],-1)),e("tbody",null,[(n(!0),u(i,null,v(l.modules.data,t=>{var p,x;return n(),u("tr",{key:t.id},[e("td",E,r(t.name),1),e("td",O,r(t.subject.name),1),e("td",U,r((x=(p=t==null?void 0:t.subject)==null?void 0:p.year)==null?void 0:x.name),1),e("td",I,[e("a",{href:o.route("subject-modules.edit",t.id),class:"text-yellow-500"},"Edit",8,L),e("button",{onClick:G=>j(t.id),class:"text-red-500 ml-4"},"Delete",8,Q)])])}),128))])]),e("div",Y,[e("button",{onClick:s[2]||(s[2]=t=>b(l.modules.current_page-1)),disabled:l.modules.current_page===1,class:"px-4 py-2 bg-gray-300 rounded"}," Previous ",8,Z),e("span",q,"Page "+r(l.modules.current_page)+" of "+r(l.modules.last_page),1),e("button",{onClick:s[3]||(s[3]=t=>b(l.modules.current_page+1)),disabled:l.modules.current_page===l.modules.last_page,class:"px-4 py-2 bg-gray-300 rounded"}," Next ",8,z)])])])])]),_:1})],64))}};export{W as default};
